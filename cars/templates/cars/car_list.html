{% extends 'base.html' %}
{% load static %}

{% block title %}–ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π - DragON Wheels{% endblock %}

{% block content %}
<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
<div class="text-center mb-5">
    <h4 class="mb-3" style="color: #333;">
        –ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
    </h4>
    <p style="color: #666;">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</p>
</div>

{% if cars %}
<div class="row">
    {% for car in cars %}
    <div class="col-lg-4 col-md-6 mb-4">
        <div class="card h-100" style="background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
            <div class="card-body">
                <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è -->
                <div class="text-center mb-3" style="height: 200px; overflow: hidden; border-radius: 4px; border: 1px solid #e0e0e0; background-color: #f5f5f5;">
                    {% if car.image %}
                    <img src="{{ car.image.url }}" alt="{{ car.brand }} {{ car.model }}" 
                         style="width: 100%; height: 100%; object-fit: contain; padding: 10px;">
                    {% else %}
                    <div style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                        <div style="font-size: 48px; color: #ccc;">üöó</div>
                        <small style="color: #888;">–§–æ—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</small>
                    </div>
                    {% endif %}
                </div>
                
                <h6 class="card-title" style="color: #333;">{{ car.brand }} {{ car.model }}</h6>
                
                <p class="card-text">
                    <small style="color: #888;">
                        {{ car.year }} –≥. ‚Ä¢ {{ car.engine_volume }}–ª ‚Ä¢ {{ car.get_transmission_display }}
                    </small>
                </p>
                
                <p class="card-text" style="color: #666;">{{ car.description|truncatechars:100|default:"–ü—Ä—è–º–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ –∏–∑ –ö–∏—Ç–∞—è. –ù–æ–≤—ã–π –∞–≤—Ç–æ." }}</p>
                
                <div class="d-flex justify-content-between align-items-center mt-4">
                    <div>
                        <div style="color: #888; font-size: 0.9rem;">–í –ö–∏—Ç–∞–µ: ${{ car.price_china }}</div>
                        <div class="fw-bold" style="color: #333;">${{ car.price_belarus }}</div>
                    </div>
                    <a href="{% url 'car_detail' car.id %}" class="btn" 
                       style="background: #555; color: white; border: none; padding: 8px 16px;">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<!-- –ï—Å–ª–∏ –Ω–µ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ –±–∞–∑–µ -->
<div class="text-center py-5">
    <div class="mb-4">
        <div style="font-size: 48px; color: #ccc;">üöó</div>
    </div>
    <h6 style="color: #333;">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</h6>
    <p class="mb-4" style="color: #666;">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</p>
    <p style="color: #888;">–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</p>
</div>
{% endif %}

<!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥ –∫–∞—Ç–∞–ª–æ–≥–æ–º -->
<div class="card mt-5" style="background: white; border: 1px solid #e0e0e0;">
    <div class="card-body text-center">
        <h6 class="mb-4" style="color: #333;">–ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –≤—ã–±–æ—Ä—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è?</h6>
        <p class="mb-4" style="color: #666;">–ù–∞—à–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø–æ–º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</p>
        
        <div class="row justify-content-center">
            <div class="col-md-6">
                <a href="tel:+375291602006" class="btn w-100 mb-3 py-3" 
                   style="background: #555; color: white; border: none;">
                    üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å: +375 (29) 160-20-06
                </a>
            </div>
        </div>
        
        <div class="mt-4">
            <p class="mb-3" style="color: #666;">–¢–∞–∫–∂–µ –ø–∏—à–∏—Ç–µ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö:</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="https://wa.me/375291602006?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç%20–∞–≤—Ç–æ–º–æ–±–∏–ª—å%20—Å%20–≤–∞—à–µ–≥–æ%20—Å–∞–π—Ç–∞" 
                   target="_blank" class="btn" style="background: #25D366; color: white; border: none; padding: 8px 16px;">
                    WhatsApp
                </a>
                <a href="https://t.me/+375291602006" 
                   target="_blank" class="btn" style="background: #0088cc; color: white; border: none; padding: 8px 16px;">
                    Telegram
                </a>
                <a href="viber://chat?number=%2B375291602006" 
                   target="_blank" class="btn" style="background: #8f5db7; color: white; border: none; padding: 8px 16px;">
                    Viber
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
